<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="cursach.Views.MainWindow"
        Title="Система управления заказами" Width="1100" Height="700">
    
    <Grid ColumnDefinitions="300,*,300" Margin="10">

        <StackPanel Grid.Column="0" Spacing="10">
            <TextBlock Text="Заказы" FontSize="16" FontWeight="Bold"/>
            <Button Name="CreateOrderBtn" Content="Новый заказ" Click="CreateOrderClick" Background="#27ae60" Foreground="White"/>
            <Button Name="DeleteOrderBtn" Content="Удалить заказ" Click="DeleteOrderClick" Background="#e74c3c" Foreground="White"/>
            
            <ListBox Name="OrdersList" Height="200" SelectionChanged="OrdersList_SelectionChanged">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Margin="5">
                            <TextBlock Text="{Binding Customer}" FontWeight="Bold"/>
                            <TextBlock Text="{Binding Total, StringFormat='Сумма: {0} руб.'}" FontSize="10"/>
                            <TextBlock Text="{Binding Status, StringFormat='Статус: {0}'}" FontSize="10"/>
                            <TextBlock Text="{Binding Items.Count, StringFormat='Товаров: {0}'}" FontSize="9" Foreground="Gray"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <TextBlock Text="Товары на складе" FontSize="16" FontWeight="Bold" Margin="0,20,0,0"/>
            <ListBox Name="ProductsList" Height="200" SelectionChanged="ProductsList_SelectionChanged">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Margin="5">
                            <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                            <TextBlock Text="{Binding Stock, StringFormat='Остаток: {0} шт.'}" FontSize="10"/>
                            <TextBlock Text="{Binding Price, StringFormat='Цена: {0} руб.'}" FontSize="10"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </StackPanel>


        <StackPanel Grid.Column="1" Margin="20,0,20,0" Spacing="10">
            <TextBlock Text="Детали заказа" FontSize="16" FontWeight="Bold"/>
            
            <TextBox Name="CustomerTextBox" Watermark="Имя клиента" TextChanged="CustomerTextBox_TextChanged"/>
            <TextBlock Name="TotalText" FontWeight="Bold" FontSize="14"/>
            <TextBlock Name="PaidText" FontSize="12"/>
            <TextBlock Name="StatusText" FontSize="12"/>
            <TextBlock Name="ItemsCountText" FontSize="12"/>

            <Button Name="AddProductBtn" Content="Добавить выбранный товар" Click="AddProductClick" Background="#3498db" Foreground="White"/>
            
            <TextBlock Text="Товары в заказе:" FontWeight="Bold" Margin="0,10,0,0"/>
            <ListBox Name="OrderItemsList" Height="120">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Margin="2">
                            <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                            <TextBlock Text="{Binding Quantity, StringFormat='Количество: {0}'}" FontSize="10"/>
                            <TextBlock Text="{Binding Price, StringFormat='Цена: {0} руб.'}" FontSize="10"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,10,0,0">
                <Button Name="PayOrderBtn" Content="Клиент оплатил" Click="PayOrderClick" Background="#9b59b6" Foreground="White"/>
                <Button Name="ShipOrderBtn" Content="Отгрузить заказ" Click="ShipOrderClick" Background="#e67e22" Foreground="White"/>
            </StackPanel>


            <Border Background="#070605" BorderBrush="#dee2e6" BorderThickness="1" CornerRadius="5" Margin="0,20,0,0" Padding="10">
                <TextBlock Name="StatusMessageText" Text="{Binding StatusMessage}" FontSize="12" TextWrapping="Wrap"/>
            </Border>
            
            <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,10,0,0">
                <Button Name="SaveBtn" Content="Сохранить данные" Click="SaveDataClick" Background="#2c3e50" Foreground="White"/>
                <Button Name="LoadBtn" Content="Загрузить данные" Click="LoadDataClick" Background="#34495e" Foreground="White"/>
            </StackPanel>
        </StackPanel>


        <StackPanel Grid.Column="2" Spacing="10">
            <TextBlock Text="Управление товарами" FontSize="16" FontWeight="Bold"/>
            
            <TextBlock Text="Добавить новый товар:" FontWeight="Bold" Margin="0,10,0,0"/>
            <TextBox Name="NewProductNameTextBox" Watermark="Название товара" TextChanged="NewProductNameTextBox_TextChanged"/>
            <TextBox Name="NewProductPriceTextBox" Watermark="Цена в рублях" TextChanged="NewProductPriceTextBox_TextChanged"/>
            <TextBox Name="NewProductStockTextBox" Watermark="Количество на складе" TextChanged="NewProductStockTextBox_TextChanged"/>
            <Button Name="AddNewProductBtn" Content="Добавить товар" Click="AddNewProductClick" Background="#27ae60" Foreground="White"/>
            
            <TextBlock Text="Редактировать выбранный товар:" FontWeight="Bold" Margin="0,20,0,0"/>
            <TextBox Name="EditProductNameTextBox" Watermark="Название" TextChanged="EditProductNameTextBox_TextChanged"/>
            <TextBox Name="EditProductPriceTextBox" Watermark="Цена в рублях" TextChanged="EditProductPriceTextBox_TextChanged"/>
            <TextBox Name="EditProductStockTextBox" Watermark="Количество" TextChanged="EditProductStockTextBox_TextChanged"/>
            <Button Name="UpdateProductBtn" Content="Сохранить изменения" Click="UpdateProductClick" Background="#3498db" Foreground="White"/>
        </StackPanel>
    </Grid>
</Window>